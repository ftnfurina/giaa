# 规则描述(description): 仅用于给规则添加描述, 用于日志提示。

# 筛选表达式规则(expression):
# 支持操作:
#   - 算子: 数字 布尔
#   - 算术运算符: + - * /
#   - 逻辑运算符: && || !
#   - 条件运算符: > < >= <= == !=
#   - 优先级运算符: ( )
# 算子类型:
#   - 数字:
#     - 整数: 123
#     - 浮点数: 3.14
#     - 圣遗物等级: 等级
#     - 圣遗物星级: 星级
#     - 圣遗物词条名:
#       - 主词条: 主:生命值
#       - 副词条: 生命值
#     - 副词条个数: 副词条个数
#   - 布尔:
#     - 真: true
#     - 假: false
#     - 圣遗物名称: 战狂的翎羽
#     - 圣遗物部位: 死之羽
#     - 圣遗物套装名: 战狂
#     - 已锁定: 已锁定
#     - 已标记: 已标记
#     - 已装备: 已装备
#     - 祝圣之霜定义: 祝圣之霜定义

# 示例:
#
# 1. 筛选双爆得分大于等于 30 的圣遗物:
#
#   暴击率 * 2 + 暴击伤害 >= 30
#
# 2. 选择5星元素杯子中双爆得分大于等于 30 的圣遗物:
#
#   空之杯
#   && 星级 >= 5
#   && (主:火元素伤害加成 > 0 || 主:水元素伤害加成 > 0 || 主:草元素伤害加成 > 0 || 主:雷元素伤害加成 > 0 || 主:风元素伤害加成 > 0 || 主:冰元素伤害加成 > 0 || 主:岩元素伤害加成)
#   && 暴击率 * 2 + 暴击伤害 >= 30
#

# 执行动作(action):
#   - 点击锁定: 点击锁定按钮, 不管当前状态, 可能是锁定, 也可能是取消锁定
#   - 点击标记: 点击标记按钮, 不管当前状态, 可能是标记, 也可能是取消标记
#   - 锁定: 锁定圣遗物, 仅当圣遗物未锁定时才执行
#   - 仅锁定: 仅锁定圣遗物, 有标记会取消标记
#   - 锁定和标记: 锁定和标记圣遗物并标记
#   - 取消锁定和标记: 取消锁定和标记圣遗物

# !!!注意!!!:
# 1. 规则按顺序执行, 上一条的动作会影响下一条表达式的判断(比如: 前一条锁定了圣遗物, 后一条表达式判断是否有锁定)。
# 2. 表达式推荐添加 "星级" 约束, 避免操作了有纪念意义的非5星圣遗物。

# 以下为我自用的规则, 仅供参考:
- description: 取消锁定和标记5星未满级的圣遗物
  expression: |-
    星级 == 5
  action: 取消锁定和标记

- description: 锁定5星带双爆的未满级有希望的圣遗物
  expression: |-
    星级 == 5
    && 等级 < 20
    && ((暴击率 > 0 && 暴击伤害 > 0) || (主:暴击率 > 0 && 暴击伤害 > 0) || (暴击率 > 0 && 主:暴击伤害 > 0))
  action: 锁定

- description: 锁定5星非理之冠双爆得分大于等于30的圣遗物
  expression: |-
    星级 == 5
    && 暴击率 * 2 + 暴击伤害 >= 30
  action: 仅锁定

- description: 锁定和标记5星非理之冠双爆得分大于等于40的圣遗物
  expression: |-
    星级 == 5
    && 暴击率 * 2 + 暴击伤害 >= 40
  action: 锁定和标记

- description: 锁定5星理之冠双爆得分大于等于85的圣遗物
  expression: |-
    理之冠
    && 星级 == 5
    && ((主:暴击伤害 + 暴击率 * 2) >= 85 || (主:暴击率 * 2 + 暴击伤害) >= 85)
  action: 仅锁定

- description: 锁定和标记5星理之冠双爆得分大于等于95的圣遗物
  expression: |-
    理之冠
    && 星级 == 5
    && ((主:暴击伤害 + 暴击率 * 2) >= 95 || (主:暴击率 * 2 + 暴击伤害) >= 95)
  action: 锁定和标记
